<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Natal do CondomÃ­nio â€” VotaÃ§Ã£o</title>
  <meta name="description" content="Envie sua foto de decoraÃ§Ã£o de Natal e vote nas preferidas do condomÃ­nio."/>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .xmas-card {
      background-image:
        radial-gradient(circle at 10% 10%, rgba(255,255,255,.35) 0 20%, transparent 21%),
        radial-gradient(circle at 90% 20%, rgba(255,255,255,.25) 0 16%, transparent 17%);
      background-color:#fff;
    }
    .twinkle { box-shadow: 0 0 0 2px rgba(255,255,255,.1), 0 0 24px rgba(220,38,38,.25) inset; }
  </style>
</head>
<body class="bg-gradient-to-b from-red-50 via-white to-emerald-50 min-h-screen relative overflow-x-hidden">

  <!-- â„ï¸ Canvas de neve -->
  <canvas id="snow" class="pointer-events-none fixed inset-0 -z-10"></canvas>

  <!-- ğŸµ Ãudio bg (WAV para compatibilidade sem codecs extras) -->
  <audio id="bgMusic" src="./assets/jingle-bells.wav" loop preload="auto"></audio>

  <!-- ğŸ„ Header natalino -->
  <header class="bg-gradient-to-r from-red-700 via-red-600 to-emerald-700 text-white twinkle">
    <div class="max-w-5xl mx-auto px-4 py-4 flex items-center gap-3 justify-between">
      <h1 class="text-xl md:text-2xl font-extrabold tracking-wide">
        ğŸ„ Natal do CondomÃ­nio â€” VotaÃ§Ã£o
      </h1>
      <div class="flex items-center gap-2">
        <button id="musicToggle" class="hidden md:inline-flex px-3 py-1.5 bg-white/15 border border-white/30 rounded-lg text-white text-sm">
          â–¶ï¸ Tocar mÃºsica
        </button>
        <span id="userInfo" class="text-sm opacity-90 mr-1"></span>
        <button id="loginBtn" class="px-3 py-1.5 bg-white text-red-700 rounded-lg font-medium">Entrar com Google</button>
        <button id="logoutBtn" class="px-3 py-1.5 bg-white/20 border border-white/40 rounded-lg hidden">Sair</button>
      </div>
    </div>
  </header>

  <!-- âœ¨ Hero simples -->
  <section class="bg-[url('./assets/ornament.svg')] bg-no-repeat bg-[right_-30px_top_10px] bg-[length:120px]">
    <div class="max-w-5xl mx-auto px-4 py-6">
      <div class="rounded-2xl border bg-white/70 backdrop-blur p-4">
        <p class="text-slate-700">
          Envie a foto da sua porta/varanda e vote nas preferidas! ğŸ
        </p>
      </div>
    </div>
  </section>

  <main class="max-w-5xl mx-auto px-4 py-6 space-y-8">
    <div id="periodoAviso" class="hidden p-3 rounded-lg bg-yellow-100 text-yellow-900 text-sm"></div>

    <!-- Form de Upload -->
    <section class="xmas-card rounded-2xl shadow p-4">
      <h2 class="text-lg font-semibold mb-3">Enviar sua foto</h2>
      <form id="formUpload" class="grid md:grid-cols-4 gap-3">
        <input type="number" min="0" id="andar" placeholder="Andar (ex: 2)" required class="border rounded-lg px-3 py-2">
        <input type="text" id="apartamento" placeholder="Apto (ex: 204)" required class="border rounded-lg px-3 py-2">
        <input type="file" id="foto" accept="image/*" required class="border rounded-lg px-3 py-2 md:col-span-2">
        <button class="md:col-span-4 bg-red-600 hover:bg-red-700 text-white rounded-lg px-4 py-2">Enviar Foto</button>
      </form>
      <p id="msg" class="text-sm mt-2"></p>
    </section>

    <!-- Filtros -->
    <section class="xmas-card rounded-2xl shadow p-4 flex flex-wrap gap-3 items-end">
      <div>
        <label class="block text-sm font-medium">Filtrar por andar</label>
        <select id="filtroAndar" class="border rounded-lg px-3 py-2">
          <option value="">Todos</option>
        </select>
      </div>
      <button id="limparFiltro" class="px-3 py-2 rounded-lg border">Limpar</button>
      <a href="./ranking.html" class="ml-auto px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white">Ver Ranking</a>
    </section>

    <!-- Galeria -->
    <section class="grid sm:grid-cols-2 md:grid-cols-3 gap-4" id="galeria"></section>
  </main>

  <footer class="text-center text-xs text-slate-500 py-6">
    Â© Todos os direitos reservados | ComissÃ£o de Natal
  </footer>

  <!-- ğŸª„ Modal de consentimento para mÃºsica -->
  <div id="musicModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-20 hidden">
    <div class="bg-white rounded-2xl shadow-xl w-[95%] max-w-md p-5 text-center space-y-3">
      <div class="text-2xl">ğŸ¶</div>
      <h3 class="text-lg font-semibold">Entrar no clima?</h3>
      <p class="text-sm text-slate-600">Podemos tocar uma trilha natalina de fundo. VocÃª pode mudar isso quando quiser.</p>
      <div class="flex gap-2 justify-center pt-2">
        <button id="modalPlay" class="px-4 py-2 rounded-lg bg-emerald-600 text-white">Tocar mÃºsica</button>
        <button id="modalNo" class="px-4 py-2 rounded-lg border">Agora nÃ£o</button>
      </div>
    </div>
  </div>

  <script src="./js/firebase.js"></script>
  <script src="./js/app.js"></script>
  <script src="./js/theme.js"></script>
</body>
</html>
